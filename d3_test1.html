<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<script src="js/lib/jquery.min.js"></script>
	<script src="js/lib/bootstrap.min.js"></script>
	<script src="js/lib/sockjs-0.3.js"></script>
	<script src="js/lib/stomp.js"></script>
	<script src="js/lib/d3.js"></script>
<!--<script src="js/stomp/connection.js"></script>-->
</head>

<body>

<div id="systemsDiv" style="overflow: auto; height: 510px;"></div>


<script>

function newSystem(systemIDs){
  //var data = ["System" + systemID];
  //console.log(systemIDs);
  var newDiv = d3.select("#systemsDiv")
    .selectAll("div")
    .data(systemIDs)
    .enter()
    .append("div")
    .html((function(d) { return "System " + d; }))
    .attr("id", "system")
    .attr("class", "col-sm-3")
    .style("background-color", "lavender")
    .style("height", "100px")
    .style("border", "1px solid")
    .style("margin","10px 40px 0 10px ")
    .on("mouseover", function(){d3.select(this).style("background-color", "aliceblue");})
    .on("mouseout", function(){d3.select(this).style("background-color", "lavender");});;

    //return newDiv;
}

function newEntity(cmd, type, id, properties){

  if (cmd == "add") {
    if (type == "system") {
      newSystem(id);
    };
  };
  if (cmd == "del") {
    if (type == "system") {
      deleteSystem(id);
    };
  };


}
newEntity("add","system",[10,11,12]);
function test(){
    
     var newDiv = d3.select("#systemsDiv")
    .selectAll("div")
    .data([10, 11], function(d) { return(d); })
    .order()    
    .exit()
    //.transition()
    //.delay(3000)
    //.remove();
    console.log(newDiv);

}

function deleteSystem(systemID_index){
    var newDiv = d3.select("#systemsDiv")
    .selectAll("div")
    .data(systemID_index).exit().remove();
}




function findSystem(system_to_find){
   //var newDiv = d3.select("#systemsDiv")
                  // .selectAll("div")
                  // .filter(function(d, i) { return i == 1;; });

    systemsGlobal.forEach(function(entry){
        entry.forEach(function(entry2){
          var system_found = entry2.__data__;
          console.log("found: " + system_found);
          if (system_to_find == system_found ) {
            console.log("found system " + system_to_find + " at: " );
            console.log(entry2);
          };
      })
    })
}

</script>



</body>
</html>
